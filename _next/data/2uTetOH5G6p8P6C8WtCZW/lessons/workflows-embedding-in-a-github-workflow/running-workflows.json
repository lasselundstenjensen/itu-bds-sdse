{"pageProps":{"post":{"attributes":{"title":"Running Dagger in a GitHub Action workflow"},"html":"<!-- TODO: Workflows and Actions -->\n\n<h2>Embedding is easy</h2>\n<p>Embedding Dagger in a GitHub Action workflow is straightforward as the Dagger team provides a GitHub Action that you can use to run Dagger pipelines.</p>\n<p>Alternatively, the proces is the same as what we just did, if you do not want to use the provided GitHub Action.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Dagger, GitHub and a runner</h3>\n<p>To run a Dagger pipeline in a GitHub Action workflow, you need to create a new workflow file in your repository and add the necessary steps to run the pipeline.</p>\n<p>This eventually means running the Dagger workflow inside the GitHub workflow.</p>\n</br>\n\n<p>The general outline of how Dagger, GitHub workflows and GitHub runners work together looks like this:</p>\n</br>\n\n<div style=\"background-color: white;\">\n<img src=\"../../images/lessons/dagger/dagger-on-github-logical.svg\" />\n</div>\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>In more detail</h3>\n</br>\n\n<div style=\"background-color: white;\">\n<img src=\"../../images/lessons/dagger/dagger-on-github-logical-2.svg\" />\n</div>\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>GitHub Action Workflow</h2>\n<p>Create a new file in the <code>.github/workflows</code> directory called <code>dagger.yml</code> and add the following content:</p>\n</br>\n\n<pre><code class=\"hljs language-yaml\"><span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Run</span> <span class=\"hljs-string\">Dagger</span> <span class=\"hljs-string\">pipeline</span>\n\n<span class=\"hljs-attr\">on:</span>\n  <span class=\"hljs-attr\">push:</span>\n    <span class=\"hljs-attr\">branches:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">main</span>\n  <span class=\"hljs-attr\">workflow_dispatch:</span>\n\n<span class=\"hljs-attr\">jobs:</span>\n  <span class=\"hljs-attr\">dagger:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Run</span> <span class=\"hljs-string\">Dagger</span> <span class=\"hljs-string\">pipeline</span>\n    <span class=\"hljs-attr\">runs-on:</span> <span class=\"hljs-string\">ubuntu-latest</span>\n\n    <span class=\"hljs-attr\">steps:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Checkout</span> <span class=\"hljs-string\">code</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/checkout@v4</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Set</span> <span class=\"hljs-string\">up</span> <span class=\"hljs-string\">Go</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/setup-go@v5</span>\n        <span class=\"hljs-attr\">with:</span>\n          <span class=\"hljs-attr\">go-version:</span> <span class=\"hljs-number\">1.23</span><span class=\"hljs-number\">.3</span>\n          <span class=\"hljs-attr\">cache:</span> <span class=\"hljs-literal\">false</span>\n\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Run</span> <span class=\"hljs-string\">Dagger</span> <span class=\"hljs-string\">pipeline</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">dagger/dagger-for-github@v6</span>\n        <span class=\"hljs-attr\">with:</span>\n          <span class=\"hljs-attr\">workdir:</span> <span class=\"hljs-string\">go</span>\n          <span class=\"hljs-attr\">verb:</span> <span class=\"hljs-string\">run</span>\n          <span class=\"hljs-attr\">args:</span> <span class=\"hljs-string\">go</span> <span class=\"hljs-string\">run</span> <span class=\"hljs-string\">pipeline.go</span>\n          <span class=\"hljs-attr\">version:</span> <span class=\"hljs-string\">&quot;0.14.0&quot;</span>\n</code></pre></br>\n\n<p>This <a href=\"https://github.com/lasselundstenjensen/itu-bds-sdse-dagger-and-github/blob/main/.github/workflows/dagger.yaml\">workflow</a> runs on every push to the <code>main</code> branch and when <a href=\"https://github.com/lasselundstenjensen/itu-bds-sdse-dagger-and-github/actions\">manually triggered</a>.</p>\n<p>It uses the <code>dagger/dagger-for-github</code> action to run the pipeline.</p>\n<p>Push the changes to your repository and navigate to the Actions tab in GitHub to see the workflow running.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<p><img src=\"https://media1.tenor.com/m/rPOqhxQBOz0AAAAC/all-might-my-hero-academia.gif\" alt=\"Finish smile\"></p>\n</br>\n</br>\n","markdown":"\n<!-- TODO: Workflows and Actions -->\n\n## Embedding is easy\n\nEmbedding Dagger in a GitHub Action workflow is straightforward as the Dagger team provides a GitHub Action that you can use to run Dagger pipelines.\n\nAlternatively, the proces is the same as what we just did, if you do not want to use the provided GitHub Action.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Dagger, GitHub and a runner\n\nTo run a Dagger pipeline in a GitHub Action workflow, you need to create a new workflow file in your repository and add the necessary steps to run the pipeline.\n\nThis eventually means running the Dagger workflow inside the GitHub workflow.\n\n</br>\n\nThe general outline of how Dagger, GitHub workflows and GitHub runners work together looks like this:\n\n</br>\n\n<div style=\"background-color: white;\">\n<img src=\"../../images/lessons/dagger/dagger-on-github-logical.svg\" />\n</div>\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### In more detail\n\n</br>\n\n<div style=\"background-color: white;\">\n<img src=\"../../images/lessons/dagger/dagger-on-github-logical-2.svg\" />\n</div>\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## GitHub Action Workflow\n\nCreate a new file in the `.github/workflows` directory called `dagger.yml` and add the following content:\n\n</br>\n\n```yaml\nname: Run Dagger pipeline\n\non:\n  push:\n    branches:\n      - main\n  workflow_dispatch:\n\njobs:\n  dagger:\n    name: Run Dagger pipeline\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n\n      - name: Set up Go\n        uses: actions/setup-go@v5\n        with:\n          go-version: 1.23.3\n          cache: false\n\n      - name: Run Dagger pipeline\n        uses: dagger/dagger-for-github@v6\n        with:\n          workdir: go\n          verb: run\n          args: go run pipeline.go\n          version: \"0.14.0\"\n```\n\n</br>\n\nThis [workflow](https://github.com/lasselundstenjensen/itu-bds-sdse-dagger-and-github/blob/main/.github/workflows/dagger.yaml) runs on every push to the `main` branch and when [manually triggered](https://github.com/lasselundstenjensen/itu-bds-sdse-dagger-and-github/actions).\n\nIt uses the `dagger/dagger-for-github` action to run the pipeline.\n\nPush the changes to your repository and navigate to the Actions tab in GitHub to see the workflow running.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n![Finish smile](https://media1.tenor.com/m/rPOqhxQBOz0AAAAC/all-might-my-hero-academia.gif)\n\n</br>\n</br>\n","slug":"running-workflows","title":"Running Dagger in a GitHub Action workflow","section":"Embedding in a GitHub Workflow","icon":"code","filePath":"/home/runner/work/itu-bds-sdse/itu-bds-sdse/lessons/11-workflows-embedding-in-a-github-workflow/A-running-workflows.md","nextSlug":null,"prevSlug":"/itu-bds-sdse/lessons/workflows-creating-and-running-a-dagger-pipeline/run-dagger-pipeline-locally"}},"__N_SSG":true}
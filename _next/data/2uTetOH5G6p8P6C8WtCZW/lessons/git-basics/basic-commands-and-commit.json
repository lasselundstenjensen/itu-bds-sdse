{"pageProps":{"post":{"attributes":{"description":"Basics of Git.","title":"Basic commands and commit","keywords":["Software engineering","Git"]},"html":"<h2>Basic commands</h2>\n<p>These are basically the commands you will use to interact with git the majority of the time. In general git is easy, but it is the more advanced commands that can land you in trouble if not careful. Again, read the <code>man</code> for each command when in doubt.</p>\n</br>\n\n<ul>\n<li><code>git add &lt;path-to-file | pattern&gt;</code> adds zero or more files to the staging area.</li>\n<li><code>git commit -m &quot;&lt;message&gt;&quot;</code> commits what changes are in the staging area.</li>\n<li><code>git status</code> shows the status of the working directory and staging area, which includes overview of tracked, staged and untracked files.</li>\n</ul>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Exercise: Tracing state of changes</h3>\n<blockquote>\n<p>Trace the state of changes in git from untracked to tracked.</p>\n</blockquote>\n</br>\n\n<p><strong>Command overview</strong></p>\n<pre><code class=\"hljs language-bash\">git add &lt;path-to-file | pattern&gt;\ngit commit -m <span class=\"hljs-string\">&quot;&lt;message&gt;&quot;</span>\ngit status\n</code></pre></br>\n\n<blockquote>\n<ul>\n<li>In the git repo <code>my-git-repo</code>, create a new file <code>README.md</code>.</li>\n<li>Check the status of git to see that it is untracked.</li>\n<li>Add <code>README.md</code> to the staging area.</li>\n<li>Check the status of git to see that it is now tracked in the staging area.</li>\n<li>Commit with a message.</li>\n<li>Check the status of git to see there are no changes waiting or untracked.</li>\n</ul>\n</blockquote>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Changes in a repository</h2>\n<p>When working with a repo, we will eventually need to look into the history of changes. Anything committed and shared with others is in the history, so beware of committing sensitive information.</p>\n<p>As mentioned earlier, the act of &quot;blaming&quot; is to find out who made a change. This is done with the <code>git blame</code> command.</p>\n<p>Another command to traverse the history is <code>git log</code>. This command shows the history of changes in the repo. It can be styled in several ways, but the default is a simple list of commits.</p>\n</br>\n\n<ul>\n<li><code>git log</code> shows the history of changes.</li>\n<li><code>git blame &lt;file&gt;</code> shows who made the changes to a file.</li>\n</ul>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<p>Try look up the <code>man</code> page for <code>git log</code> and search for the <code>--graph</code> and <code>--decorate</code> options.</p>\n</br>\n\n<blockquote>\n<p><strong>Hint:</strong> <code>man git-log</code>, and searching is done with <code>/</code> with <code>n</code> and <code>N</code> to go to the next and previous search result.</p>\n</blockquote>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Exercise: Display the history</h3>\n<blockquote>\n<p>Display the history of the git repo with the <code>--graph</code> and <code>--decorate</code> option.</p>\n</blockquote>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Solution: Display the history</h3>\n<pre><code class=\"hljs language-bash\">git <span class=\"hljs-built_in\">log</span> --graph --decorate\n</code></pre></br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Internal representations</h2>\n<h3>SHAs</h3>\n<p>Short for &quot;Secure Hash Algorithm&quot;, SHA is a cryptographic hash function that produces a fixed-size hash value. In git, the SHA is used to identify objects, such as commits, trees, and blobs.</p>\n</br>\n\n<p>Git commits are all identified by a SHA, which is a 40-character hexadecimal string comprised of <code>0-9a-f</code> characters. The SHA is unique to the commit and is used to reference the commit in the history.</p>\n</br>\n\n<p>You can get away with specifying only the first 7 characters of a SHA when referencing a commit. This is because the first 7 characters are usually unique enough to identify the commit.</p>\n</br>\n\n<p>Main way to get SHAs is with <code>git log</code>.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Exercise: Identify a commit</h3>\n<blockquote>\n<p>Find the commit SHA of the first commit and copy it.</p>\n</blockquote>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Solution: Identify a commit</h3>\n<pre><code class=\"hljs language-bash\">git <span class=\"hljs-built_in\">log</span>\n</code></pre><p><strong>Output:</strong></p>\n<pre><code class=\"hljs language-plaintext\">commit 486f1898821ee74a59ca154e0785f0f589ccb6e2 (HEAD -&gt; main)\nAuthor: Lasse Lund Sten Jensen &lt;lajl@itu.dk&gt;\nDate:   Tue Sep 17 22:11:03 2024 +0200\n\n    batman\n</code></pre><pre><code class=\"hljs language-plaintext\">commit 486f1898821ee74a59ca154e0785f0f589ccb6e2\n---------^ this is the SHA\n</code></pre></br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Question</h3>\n<p>Why is your commit SHA different than mine?</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Here is another question</h3>\n<p>This is a bit harder.</p>\n<p>Can you find your commit&#39;s SHA within the <code>.git</code> directory?</p>\n</br>\n\n<blockquote>\n<p><strong>Hint:</strong> You will need that SHA you copied earlier.</p>\n</blockquote>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Observation</h3>\n<p>All commits exist in the <code>.git/objects</code> directory with the first 2 characters of the SHA as the directory and the rest (38) as the file name.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Remember</h3>\n<p>Everything in git is stored as a file in the <code>.git</code> directory.</p>\n<p>What is in the file for our SHA?</p>\n</br>\n\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-built_in\">cat</span> .git/objects/48/6f1898821ee74a59ca154e0785f0f589ccb6e2\n\nxK ]s71|\nZ&amp;+:!RxW2q:AdȠBe]\nlVO*{.su48we9c_9 %\n</code></pre></br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Exercise: Reading the commit object</h3>\n<blockquote>\n<p>Can you get <code>git cat-file -p &lt;SHA&gt;</code> to output the content of <code>README.md</code>?</p>\n</blockquote>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Solution: Reading the commit object</h3>\n<pre><code class=\"hljs language-bash\">git cat-file -p 486f1898821ee74a59ca154e0785f0f589ccb6e2\n\ntree f93e3a1a1525fb5b91020da86e44810c87a2d7bc\nauthor Lasse Lund Sten Jensen &lt;lajl@itu.dk&gt; 1726603863 +0200\ncommitter Lasse Lund Sten Jensen &lt;lajl@itu.dk&gt; 1726603863 +0200\n\nbatman\n</code></pre><p>Not quite what we wanted, but we can look at the other SHA for tree.</p>\n<pre><code class=\"hljs language-bash\">git cat-file -p f93e3a1a1525fb5b91020da86e44810c87a2d7bc\n\n100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    README.md\n</code></pre><p>Still not the content of <code>README.md</code>, but we can see the SHA of the blob. Let us look at that.</p>\n<pre><code class=\"hljs language-bash\">git cat-file -p e69de29bb2d1d6434b8b29ae775ad8c2e48c5391\n\nWe are learning git!\n</code></pre><p>So there is our content of <code>README.md</code>—assuming we set it to &quot;We are learning git!&quot;.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Observation</h3>\n<p>Tree is a directory.</p>\n<p>Blob is a file.</p>\n<blockquote>\n<p><strong>Important:</strong> Git does <em>not</em> store diffs, but the entirety of the change.</p>\n</blockquote>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Exercise: A second commit</h3>\n<p>Make a second commit with a new file and content.</p>\n<blockquote>\n<ul>\n<li>Create a new file, we call it <code>document.md</code>.</li>\n<li>Add some content to the file. We will use &quot;This is a document&quot;.</li>\n<li>Add the file to the staging area.</li>\n<li>Commit the file with a message.</li>\n</ul>\n</blockquote>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Solution: A second commit</h3>\n<p>Create the file <code>document.md</code> and add the content <code>This is a document</code>.</p>\n<pre><code class=\"hljs language-bash\">git add document.md\ngit commit -m <span class=\"hljs-string\">&quot;document&quot;</span>\n\n[main ef831b9] document\n 1 file changed, 1 insertion(+)\n create mode 100644 document.md\n</code></pre></br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Exercise: Reading the document commit object</h3>\n<blockquote>\n<p>Can you get <code>git cat-file -p &lt;SHA&gt;</code> to output the content of <code>document.md</code>?</p>\n</blockquote>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Solution: Reading the document commit object</h3>\n<pre><code class=\"hljs language-bash\">git cat-file -p ef831b9\n\ntree 7de536eec1170876ccb1238b78a0ee4d7dbab94a\nparent 486f1898821ee74a59ca154e0785f0f589ccb6e2\nauthor Lasse Lund Sten Jensen &lt;lajl@itu.dk&gt; 1726606575 +0200\ncommitter Lasse Lund Sten Jensen &lt;lajl@itu.dk&gt; 1726606575 +0200\n\ndocument\n</code></pre><p>Notice we have a <code>parent</code> SHA.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h3>Observation</h3>\n<p>If we do the same for the tree, we can see that git stores the entirety of the repository and not just the one change.</p>\n<pre><code class=\"hljs language-bash\">git cat-file -p 7de536eec1170876ccb1238b78a0ee4d7dbab94a\n\n100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    README.md\n100644 blob 9de2f7e0f0b41ff960078f4879c6e9a67ee562f4    document.md\n</code></pre></br>\n\n<p>In other words, git stores the entire state of the repository at each commit, and we only need a single commit SHA to recover the entire state of the repository at that commit.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<p>Git commits are organized as an acyclic graph that happens to be linear. Time is the order commits follow.</p>\n</br>\n</br>\n","markdown":"\n## Basic commands\n\nThese are basically the commands you will use to interact with git the majority of the time. In general git is easy, but it is the more advanced commands that can land you in trouble if not careful. Again, read the `man` for each command when in doubt.\n\n</br>\n\n- `git add <path-to-file | pattern>` adds zero or more files to the staging area.\n- `git commit -m \"<message>\"` commits what changes are in the staging area.\n- `git status` shows the status of the working directory and staging area, which includes overview of tracked, staged and untracked files.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Exercise: Tracing state of changes\n\n> Trace the state of changes in git from untracked to tracked.\n\n</br>\n\n**Command overview**\n\n```bash\ngit add <path-to-file | pattern>\ngit commit -m \"<message>\"\ngit status\n```\n\n</br>\n\n> * In the git repo `my-git-repo`, create a new file `README.md`.\n> * Check the status of git to see that it is untracked.\n> * Add `README.md` to the staging area.\n> * Check the status of git to see that it is now tracked in the staging area.\n> * Commit with a message.\n> * Check the status of git to see there are no changes waiting or untracked.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Changes in a repository\n\nWhen working with a repo, we will eventually need to look into the history of changes. Anything committed and shared with others is in the history, so beware of committing sensitive information.\n\nAs mentioned earlier, the act of \"blaming\" is to find out who made a change. This is done with the `git blame` command.\n\nAnother command to traverse the history is `git log`. This command shows the history of changes in the repo. It can be styled in several ways, but the default is a simple list of commits.\n\n</br>\n\n- `git log` shows the history of changes.\n- `git blame <file>` shows who made the changes to a file.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\nTry look up the `man` page for `git log` and search for the `--graph` and `--decorate` options.\n\n</br>\n\n> **Hint:** `man git-log`, and searching is done with `/` with `n` and `N` to go to the next and previous search result.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Exercise: Display the history\n\n> Display the history of the git repo with the `--graph` and `--decorate` option.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Solution: Display the history\n\n```bash\ngit log --graph --decorate\n```\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Internal representations\n\n### SHAs\n\nShort for \"Secure Hash Algorithm\", SHA is a cryptographic hash function that produces a fixed-size hash value. In git, the SHA is used to identify objects, such as commits, trees, and blobs.\n\n</br>\n\nGit commits are all identified by a SHA, which is a 40-character hexadecimal string comprised of `0-9a-f` characters. The SHA is unique to the commit and is used to reference the commit in the history.\n\n</br>\n\nYou can get away with specifying only the first 7 characters of a SHA when referencing a commit. This is because the first 7 characters are usually unique enough to identify the commit.\n\n</br>\n\nMain way to get SHAs is with `git log`.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Exercise: Identify a commit\n\n> Find the commit SHA of the first commit and copy it.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Solution: Identify a commit\n\n```bash\ngit log\n```\n\n**Output:**\n\n```plaintext\ncommit 486f1898821ee74a59ca154e0785f0f589ccb6e2 (HEAD -> main)\nAuthor: Lasse Lund Sten Jensen <lajl@itu.dk>\nDate:   Tue Sep 17 22:11:03 2024 +0200\n\n    batman\n```\n\n```plaintext\ncommit 486f1898821ee74a59ca154e0785f0f589ccb6e2\n---------^ this is the SHA\n```\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Question\n\nWhy is your commit SHA different than mine?\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Here is another question\n\nThis is a bit harder.\n\nCan you find your commit's SHA within the `.git` directory?\n\n</br>\n\n> **Hint:** You will need that SHA you copied earlier.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Observation\n\nAll commits exist in the `.git/objects` directory with the first 2 characters of the SHA as the directory and the rest (38) as the file name.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Remember\n\nEverything in git is stored as a file in the `.git` directory.\n\nWhat is in the file for our SHA?\n\n</br>\n\n```bash\ncat .git/objects/48/6f1898821ee74a59ca154e0785f0f589ccb6e2\n\nxK ]s71|\nZ&+:!RxW2q:AdȠBe]\nlVO*{.su48we9c_9 %\n```\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Exercise: Reading the commit object\n\n> Can you get `git cat-file -p <SHA>` to output the content of `README.md`?\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Solution: Reading the commit object\n\n```bash\ngit cat-file -p 486f1898821ee74a59ca154e0785f0f589ccb6e2\n\ntree f93e3a1a1525fb5b91020da86e44810c87a2d7bc\nauthor Lasse Lund Sten Jensen <lajl@itu.dk> 1726603863 +0200\ncommitter Lasse Lund Sten Jensen <lajl@itu.dk> 1726603863 +0200\n\nbatman\n```\n\nNot quite what we wanted, but we can look at the other SHA for tree.\n\n```bash\ngit cat-file -p f93e3a1a1525fb5b91020da86e44810c87a2d7bc\n\n100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    README.md\n```\n\nStill not the content of `README.md`, but we can see the SHA of the blob. Let us look at that.\n\n```bash\ngit cat-file -p e69de29bb2d1d6434b8b29ae775ad8c2e48c5391\n\nWe are learning git!\n```\n\nSo there is our content of `README.md`—assuming we set it to \"We are learning git!\".\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Observation\n\nTree is a directory.\n\nBlob is a file.\n\n> **Important:** Git does _not_ store diffs, but the entirety of the change.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Exercise: A second commit\n\nMake a second commit with a new file and content.\n\n> * Create a new file, we call it `document.md`.\n> * Add some content to the file. We will use \"This is a document\".\n> * Add the file to the staging area.\n> * Commit the file with a message.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Solution: A second commit\n\nCreate the file `document.md` and add the content `This is a document`.\n\n```bash\ngit add document.md\ngit commit -m \"document\"\n\n[main ef831b9] document\n 1 file changed, 1 insertion(+)\n create mode 100644 document.md\n```\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Exercise: Reading the document commit object\n\n> Can you get `git cat-file -p <SHA>` to output the content of `document.md`?\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Solution: Reading the document commit object\n\n```bash\ngit cat-file -p ef831b9\n\ntree 7de536eec1170876ccb1238b78a0ee4d7dbab94a\nparent 486f1898821ee74a59ca154e0785f0f589ccb6e2\nauthor Lasse Lund Sten Jensen <lajl@itu.dk> 1726606575 +0200\ncommitter Lasse Lund Sten Jensen <lajl@itu.dk> 1726606575 +0200\n\ndocument\n```\n\nNotice we have a `parent` SHA.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n### Observation\n\nIf we do the same for the tree, we can see that git stores the entirety of the repository and not just the one change.\n\n```bash\ngit cat-file -p 7de536eec1170876ccb1238b78a0ee4d7dbab94a\n\n100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    README.md\n100644 blob 9de2f7e0f0b41ff960078f4879c6e9a67ee562f4    document.md\n```\n\n</br>\n\nIn other words, git stores the entire state of the repository at each commit, and we only need a single commit SHA to recover the entire state of the repository at that commit.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\nGit commits are organized as an acyclic graph that happens to be linear. Time is the order commits follow.\n\n</br>\n</br>\n","slug":"basic-commands-and-commit","title":"Basic commands and commit","section":"Git basics","icon":"code","filePath":"/home/runner/work/itu-bds-sdse/itu-bds-sdse/lessons/06-git-basics/D-basic-commands-and-commit.md","nextSlug":"/itu-bds-sdse/lessons/git-basics/branches","prevSlug":"/itu-bds-sdse/lessons/git-basics/creating-a-repo"}},"__N_SSG":true}
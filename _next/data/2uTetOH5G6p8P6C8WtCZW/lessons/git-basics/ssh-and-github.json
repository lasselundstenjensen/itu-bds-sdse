{"pageProps":{"post":{"attributes":{"description":"SSH and GitHub","title":"Connecting to GitHub via SSH keys","keywords":["Software engineering","Git"]},"html":"<h1>Connecting to GitHub via SSH keys</h1>\n<blockquote>\n<p><em>Guide written and provided by <a href=\"https://github.com/zntheory\">@zntheory</a> and <a href=\"https://github.com/slug-boi\">@Slug-Boi</a>.</em></p>\n</blockquote>\n</br>\n\n<p>Before getting into SSH keys, we need to understand what <strong>git</strong> and <strong>GitHub</strong> are and how they are different.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Git vs. GitHub</h2>\n<p><strong>Git</strong> is a piece of software that you can install and run locally. It is a version control system (VCS) for tracking changes in, primarily, code files that are within the same directory, which then constitutes a repository.</p>\n<p><strong>GitHub</strong> is an online website that functions as a storage and collaboration platform for <strong>git</strong> repositories. It essentially hosts your code on their servers, and provides a graphical user interface as well as features for easing code collaboration, e.g. pull requests.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Why SSH keys for GitHub?</h2>\n<p>In short, it&#39;s a secure way to identify yourself (so people know it&#39;s really you who sent a pull request with 10,000+ changed lines in one commit), and it saves you from having to log in each time you want to store files on GitHub.</p>\n<p>In GitHub&#39;s own words:</p>\n<blockquote>\n<p>Using the SSH protocol, you can connect and authenticate to remote servers and services. With SSH keys, you can connect to GitHub without supplying your username and personal access token at each visit. You can also use an SSH key to sign commits.</p>\n</blockquote>\n<p><strong>But for it to be secure, you should <em>never</em> give out your <em>private</em> key to anyone</strong>, though the public key is fine to give out.</p>\n<p>See the private key as your ID card, and the public key as your full name. It&#39;s generally fine to give out your name to other people, and in this case, GitHub will ask for your ID to confirm you are whom you claim to be, that you are allowed to work in this repository, etc.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h1>How to generate and add SSH keys for GitHub</h1>\n<p>This is specifically for generating SSH keys using the terminal.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Step 0 - Check for existing SSH keys</h2>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-built_in\">ls</span> -al ~/.ssh\n</code></pre><p>You might already have a key pair or two, or maybe even none. Either way is fine. Just know that the rest of the guide will use <code>~/.ssh/id_rsa_github</code> as the new key file&#39;s location.</p>\n<p>If that file already exists on your computer, remember to replace the string for the rest of the guide, e.g. <code>~/.ssh/id_rsa_datascience</code>.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Step 1 - Generate SSH key pair</h2>\n<p><strong>Option 1:</strong> With your e-mail as a comment (Optional)</p>\n<p>Replace <code>&lt;your_email@example.com&gt;</code> below with your actual e-mail address.  See it as metadata to help you (or a future organisation administrator in charge of your team) to differentiate between multiple key pairs.</p>\n<pre><code class=\"hljs language-bash\">ssh-keygen -t rsa -b 4096 -C <span class=\"hljs-string\">&quot;&lt;your_email@example.com&gt;&quot;</span>\n</code></pre><p><strong>Option 2:</strong> Without your e-mail as a comment</p>\n<pre><code class=\"hljs language-bash\">ssh-keygen -t rsa -b 4096\n</code></pre></br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Step 1.5 - Specify location</h2>\n<p>The agent will prompt you for which file to write the secret key to. Don&#39;t worry about the public key here.</p>\n<p>If the secret key file doesn&#39;t exist, it will create one. The same is true for the public key file.</p>\n</br>\n\n<p>Replace <code>&lt;user&gt;</code> below with the username you&#39;re using on the machine.</p>\n<pre><code>/home/&lt;user&gt;/.ssh/id_rsa_github\n</code></pre><p>This will write the generated secret key to the specified file, and the public key to a new file <code>~/.ssh/id_rsa_github.pub</code>.\n</br>\n</br></p>\n<p>Know that <code>~</code> is a shell expansion (do not worry about this term), which expands to <code>/home/&lt;user&gt;/</code>, but the SSH agent might complain about such a directory not existing due to it being interpreted as the literal character rather than being expanded. Writing it out explicitly should avoid that. A possible alternative could also be to use the environment expansion <code>$HOME</code> instead as this may be more widely supported than <code>~</code>.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>FYI</h2>\n<p>If you had just pressed &#39;ENTER&#39; (agreed to default behaviour), it will write the generated keys to the following files:</p>\n<ul>\n<li><code>~/.ssh/id_rsa</code> (secret key)</li>\n<li><code>~/.ssh/id_rsa.pub</code> (public key)</li>\n</ul>\n<p>So, if you save your SSH keys in that same folder (<code>~/.ssh/</code>), you can easily find all of your SSH key in there.</p>\n</br>\n\n<blockquote>\n<p><strong>Question:</strong> Say you did just press &#39;ENTER&#39; here and go about your day. Later, you generate a new key pair, e.g. for your new GitHub account used specifically for work. You follow all the steps, except again, when prompted on where to write the generated keys, you merely press &#39;ENTER&#39;. What would happen then?</p>\n</blockquote>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Step 2: Add a passphrase (Optional but HIGHLY recommended)</h2>\n<p>Imagine having a student ID without a pincode, or even a phone without a pincode...</p>\n<p>Please take the recommendation to heart.</p>\n</br>\n\n<p><strong>[ No, thanks? ]</strong> Press &#39;ENTER&#39;, and continue to the next step.</p>\n<p><strong>[ Yes, please? ]</strong> Ensure that you will remember it: Once lost, it cannot be recovered, and you&#39;ll just have to replace your SSH key pair with new ones.</p>\n<p>When typing in your passphrase, you will not see any characters being typed --- that&#39;s just security by obscurity. It will still take your input.</p>\n<p>Afterward, it will prompt you to type in the same passphrase again...</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Step 3: Start the SSH agent</h2>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-built_in\">eval</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-subst\">$(ssh-agent -s)</span>&quot;</span>\n</code></pre><p><strong>Curious about what&#39;s happening?</strong></p>\n<p>Running <code>ssh-agent -s</code> prints shell commands meant to configure the shell environment. These commands would be run in a shell sub-process rather than the current shell process, so the commands are unable to do the necessary environment changes to the current shell process. You can see this as if a child is babbling on about how to redecorate the house. Without the parent listening and decorating, nothing would change.</p>\n<p>So, <code>eval</code> takes the shell commands as arguments, and <strong>eval</strong>uates each command, essentially executing them within the current shell process. Thus, the current shell environment has been configured by the agent. Continuing with the house decoration allegory, the parent can now hear the child, evaluates their wishes, and redecorates accordingly.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Step 4: Add SSH key to SSH agent</h2>\n<pre><code class=\"hljs language-bash\">ssh-add ~/.ssh/id_rsa_github\n</code></pre><p>It will prompt you for the key&#39;s passphrase if one was set.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Step 5: Display the contents of your public key</h2>\n<pre><code class=\"hljs language-bash\"><span class=\"hljs-built_in\">cat</span> ~/.ssh/id_rsa_github.pub\n</code></pre><p>... which outputs a string with the content: <code>ssh-rsa &lt;long gibberish&gt;= &lt;computer_name&gt;</code>, or something similar to that.</p>\n</br>\n\n<p><strong>Fun fact:</strong> The command <code>cat</code> is used to read a file, or multiple files, sequentially and print it to the standard output. Shorthand for con<strong>cat</strong>enate files.</p>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Step 6: Add SSH key to GitHub</h2>\n<ol>\n<li>Copy the contents of the SSH <strong>public key</strong> file (.pub)</li>\n<li>Access your GitHub account settings.</li>\n<li>Navigate to <strong>SSH and GPG keys</strong>.</li>\n<li>Click on <strong>New SSH key</strong>.</li>\n<li>Give it a title, and ensure that <strong>Key type</strong> is set to &#39;Authentication Key&#39;.</li>\n<li>Paste your SSH public key into the provided <strong>Key</strong> field.</li>\n<li>Click <strong>Add SSH key</strong>.</li>\n</ol>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n<h2>Step 7: Start cloning repositories via SSH, not HTTPS links</h2>\n<p>You might have tried cloning git repositories from GitHub using HTTPS links like so:</p>\n<pre><code class=\"hljs language-bash\">git <span class=\"hljs-built_in\">clone</span> https://github.com/&lt;repo_owner&gt;/&lt;repo_name&gt;\n</code></pre></br>\n\n<p>But to use the new SSH key pair to clone and skip manually logging into GitHub, we run:</p>\n<pre><code class=\"hljs language-bash\">git <span class=\"hljs-built_in\">clone</span> git@github.com:&lt;repo_owner&gt;/&lt;repo_name&gt;.git\n</code></pre></br>\n</br>\n\n<p><strong>To find this string...</strong></p>\n<ol>\n<li>Go to the repository you want to clone from GitHub.</li>\n<li>Click on the green <strong>&lt;&gt; Code</strong> button.</li>\n<li>Clicon on the <strong>SSH</strong> tab.</li>\n<li>Copy the SSH URL to the clipboard.</li>\n<li>Paste it as an argument to the <code>git clone</code> command.</li>\n</ol>\n</br>\n</br>\n","markdown":"\n# Connecting to GitHub via SSH keys\n\n> _Guide written and provided by [@zntheory](https://github.com/zntheory) and [@Slug-Boi](https://github.com/slug-boi)._\n\n</br>\n\nBefore getting into SSH keys, we need to understand what **git** and **GitHub** are and how they are different.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Git vs. GitHub\n\n**Git** is a piece of software that you can install and run locally. It is a version control system (VCS) for tracking changes in, primarily, code files that are within the same directory, which then constitutes a repository.\n\n**GitHub** is an online website that functions as a storage and collaboration platform for **git** repositories. It essentially hosts your code on their servers, and provides a graphical user interface as well as features for easing code collaboration, e.g. pull requests.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Why SSH keys for GitHub?\n\nIn short, it's a secure way to identify yourself (so people know it's really you who sent a pull request with 10,000+ changed lines in one commit), and it saves you from having to log in each time you want to store files on GitHub.\n\nIn GitHub's own words:\n> Using the SSH protocol, you can connect and authenticate to remote servers and services. With SSH keys, you can connect to GitHub without supplying your username and personal access token at each visit. You can also use an SSH key to sign commits.\n\n**But for it to be secure, you should *never* give out your *private* key to anyone**, though the public key is fine to give out.\n\nSee the private key as your ID card, and the public key as your full name. It's generally fine to give out your name to other people, and in this case, GitHub will ask for your ID to confirm you are whom you claim to be, that you are allowed to work in this repository, etc.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n# How to generate and add SSH keys for GitHub\n\nThis is specifically for generating SSH keys using the terminal.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Step 0 - Check for existing SSH keys\n```bash\nls -al ~/.ssh\n```\n\nYou might already have a key pair or two, or maybe even none. Either way is fine. Just know that the rest of the guide will use `~/.ssh/id_rsa_github` as the new key file's location.\n\nIf that file already exists on your computer, remember to replace the string for the rest of the guide, e.g. `~/.ssh/id_rsa_datascience`.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Step 1 - Generate SSH key pair\n\n**Option 1:** With your e-mail as a comment (Optional)\n\nReplace `<your_email@example.com>` below with your actual e-mail address.  See it as metadata to help you (or a future organisation administrator in charge of your team) to differentiate between multiple key pairs.\n\n``` bash\nssh-keygen -t rsa -b 4096 -C \"<your_email@example.com>\"\n```\n\n**Option 2:** Without your e-mail as a comment\n\n``` bash\nssh-keygen -t rsa -b 4096\n```\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Step 1.5 - Specify location\n\nThe agent will prompt you for which file to write the secret key to. Don't worry about the public key here.\n\nIf the secret key file doesn't exist, it will create one. The same is true for the public key file.\n\n</br>\n\nReplace `<user>` below with the username you're using on the machine.\n\n```\n/home/<user>/.ssh/id_rsa_github\n```\n\nThis will write the generated secret key to the specified file, and the public key to a new file `~/.ssh/id_rsa_github.pub`.\n</br>\n</br>\n\nKnow that `~` is a shell expansion (do not worry about this term), which expands to `/home/<user>/`, but the SSH agent might complain about such a directory not existing due to it being interpreted as the literal character rather than being expanded. Writing it out explicitly should avoid that. A possible alternative could also be to use the environment expansion `$HOME` instead as this may be more widely supported than `~`.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## FYI\nIf you had just pressed 'ENTER' (agreed to default behaviour), it will write the generated keys to the following files:\n- `~/.ssh/id_rsa` (secret key)\n- `~/.ssh/id_rsa.pub` (public key)\n\nSo, if you save your SSH keys in that same folder (`~/.ssh/`), you can easily find all of your SSH key in there.\n\n</br>\n\n> **Question:** Say you did just press 'ENTER' here and go about your day. Later, you generate a new key pair, e.g. for your new GitHub account used specifically for work. You follow all the steps, except again, when prompted on where to write the generated keys, you merely press 'ENTER'. What would happen then?\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Step 2: Add a passphrase (Optional but HIGHLY recommended)\n\nImagine having a student ID without a pincode, or even a phone without a pincode...\n\nPlease take the recommendation to heart.\n\n</br>\n\n**[ No, thanks? ]** Press 'ENTER', and continue to the next step.\n\n**[ Yes, please? ]** Ensure that you will remember it: Once lost, it cannot be recovered, and you'll just have to replace your SSH key pair with new ones.\n\nWhen typing in your passphrase, you will not see any characters being typed --- that's just security by obscurity. It will still take your input.\n\nAfterward, it will prompt you to type in the same passphrase again...\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Step 3: Start the SSH agent\n\n```bash\neval \"$(ssh-agent -s)\"\n```\n\n**Curious about what's happening?**\n\nRunning `ssh-agent -s` prints shell commands meant to configure the shell environment. These commands would be run in a shell sub-process rather than the current shell process, so the commands are unable to do the necessary environment changes to the current shell process. You can see this as if a child is babbling on about how to redecorate the house. Without the parent listening and decorating, nothing would change.\n\nSo, `eval` takes the shell commands as arguments, and **eval**uates each command, essentially executing them within the current shell process. Thus, the current shell environment has been configured by the agent. Continuing with the house decoration allegory, the parent can now hear the child, evaluates their wishes, and redecorates accordingly.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Step 4: Add SSH key to SSH agent\n\n```bash\nssh-add ~/.ssh/id_rsa_github\n```\n\nIt will prompt you for the key's passphrase if one was set.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Step 5: Display the contents of your public key\n\n```bash\ncat ~/.ssh/id_rsa_github.pub\n```\n\n... which outputs a string with the content: `ssh-rsa <long gibberish>= <computer_name>`, or something similar to that.\n\n</br>\n\n**Fun fact:** The command `cat` is used to read a file, or multiple files, sequentially and print it to the standard output. Shorthand for con**cat**enate files.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Step 6: Add SSH key to GitHub\n1. Copy the contents of the SSH **public key** file (.pub)\n2. Access your GitHub account settings.\n3. Navigate to **SSH and GPG keys**.\n4. Click on **New SSH key**.\n5. Give it a title, and ensure that **Key type** is set to 'Authentication Key'.\n6. Paste your SSH public key into the provided **Key** field.\n7. Click **Add SSH key**.\n\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n\n## Step 7: Start cloning repositories via SSH, not HTTPS links\n\nYou might have tried cloning git repositories from GitHub using HTTPS links like so:\n\n```bash\ngit clone https://github.com/<repo_owner>/<repo_name>\n```\n\n</br>\n\nBut to use the new SSH key pair to clone and skip manually logging into GitHub, we run:\n\n```bash\ngit clone git@github.com:<repo_owner>/<repo_name>.git\n```\n\n</br>\n</br>\n\n**To find this string...**\n1. Go to the repository you want to clone from GitHub.\n2. Click on the green **<> Code** button.\n3. Clicon on the **SSH** tab.\n4. Copy the SSH URL to the clipboard.\n5. Paste it as an argument to the `git clone` command.\n\n</br>\n</br>\n","slug":"ssh-and-github","title":"Connecting to GitHub via SSH keys","section":"Git basics","icon":"code","filePath":"/home/runner/work/itu-bds-sdse/itu-bds-sdse/lessons/06-git-basics/S-ssh-and-github.md","nextSlug":"/itu-bds-sdse/lessons/branching-strategies/working-with-branches","prevSlug":"/itu-bds-sdse/lessons/git-basics/gitignore"}},"__N_SSG":true}